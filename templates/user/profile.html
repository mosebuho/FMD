{% extends "home/home.html" %}
{% block content %}
<link rel="stylesheet" href="/static/user.css/" />
<script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
    crossorigin="anonymous"></script>
<script>
    $(function () {
        $('ul.tab li').click(function () {
            $('ul.tab li').removeClass('on');
            $('.tabcont').removeClass('on');
            $(this).addClass('on');
            $('#' + $(this).attr('data-tab')).addClass('on');
            $('ul.tab li').css('background-color', '#272727');
            $(this).css('background-color', '#848b79');
        })
    });
</script>
<section id="profile">
    <img id="profile-ad">
    <div class="userinfo">
        <ul class="tab">
            <li data-tab="info" class='on' style="background:#848b79;">
                <a href="#"><i class="fa-solid fa-circle-info"></i> 내정보</a>
            </li>
            <li data-tab="myboard"><a href="#">
                    <i class="fa-solid fa-file-pen"></i> 작성한 글</a>
            </li>
            <li data-tab="mycomment"><a href="#">
                    <i class="fa-solid fa-comment-dots"></i> 작성한 댓글</a>
            </li>
            <li data-tab="mylike"><a href="#">
                    <i class="fa-solid fa-thumbs-up"></i> 추천한 글</a>
            </li>
        </ul>
        <div class="content">
            <div id="info" class="tabcont on">
                <div>
                    아이디: {{request.user.userid}}
                </div>
                <div>
                    닉네임: {{request.user.name}}
                </div>
                <div>
                    이메일: {{request.user.email}}
                </div>
                <div>
                    생성일: {{request.user.join_date}}
                </div>
            </div>
            <ul id="myboard" class="tabcont">
                {% for board in request.user.community_set.all %}
                <li>
                    <a href="{% url 'board:community_detail' board.id %}">{{ board.title|truncatechars:35 }}</a>
                    &nbsp<i class="fa-solid fa-comment-dots"></i> {{ board.comment_set.count }}
                </li>
                {% endfor %}
            </ul>
            <ul id="mycomment" class="tabcont">
                {% for comment in request.user.comment_set.all %}
                <li>
                    <a href="{% url 'board:community_detail' comment.community_id %}">{{ comment.community.title|truncatechars:35 }}</a>
                    &nbsp<i class="fa-solid fa-comment-dots"></i> {{ comment.community.comment_set.count }}
                    <p><i class="fa-solid fa-arrow-right"></i>&nbsp {{ comment.content }}</p>
                </li>
                {% endfor %}
            </ul>
            <ul id="mylike" class="tabcont">
                {% for board in request.user.like_boards.all %}
                <li>
                    <a href="{% url 'board:community_detail' board.id %}">{{ board.title|truncatechars:35 }}</a>
                    &nbsp<i class="fa-solid fa-comment-dots"></i> {{ board.comment_set.count }}
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>
</section>
{% endblock content %}