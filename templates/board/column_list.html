{% extends "board/news_list.html" %}
{% block content %}
<script>
    function notstaff() {
        alert("스태프 이상의 권한이 필요합니다.")
    }
</script>
<link rel="stylesheet" href="/static/news.css/" />
<img id="news_ad">
<section id="news_list">
    <ul class="news-page">
        {% for i in page_obj %}
        <a href="{% url 'board:column_detail' i.id %}">
            <li>
                <img src="{{i.thumbnail.url}}">
                <div>
                    {{i.title|truncatechars:37}}
                    <p>
                        {{ i.writer }}
                        <i class="fa-solid fa-eye"></i> {{ i.view }}
                        <span><i class="fa-solid fa-clock"></i> {{ i.date_str }}</span>
                    </p>
                    <span class="content">{{i.content|striptags|safe|truncatechars:100}}</span>
                </div>
            </li>
        </a>
        {% endfor %}
    </ul>
</section>
<section id="button">
    <div></div>
    {% block search %}
    {% include "pagination.html" %}
    {% endblock search %}
    {% if request.user.is_staff %}
    <button>
        <a href="{% url 'board:column_create' %}">
            <i class="fa-solid fa-pen-to-square"></i> 글쓰기
        </a>
    </button>
    {% else %}
    <button onclick="notstaff()">
        <i class="fa-solid fa-pen-to-square"></i> 글쓰기
    </button>
    {% endif %}
</section>
<section id="search">
    <form action="{% url 'board:column_search' %}" method="post">
        {% csrf_token %}
        <input name="q" value="{{q}}" placeholder="검색어를 입력해주세요.">
        <button type="submit">검색</button>
    </form>
</section>
{% endblock content %}