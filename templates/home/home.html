<!DOCTYPE html>
<html>
{% load static %}

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4MILLDUK</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <link rel="shortcut icon" href="{% static 'favicon.ico' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'home.css' %}" />
    <link
        href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Jua&family=Nanum+Gothic:wght@700&family=Noto+Sans+KR&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
        integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css" />
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8572587507451544"
        crossorigin="anonymous"></script>
</head>

<body>
    <header>
        <div class="top">
            <a href="/"><img style="image-rendering: -webkit-optimize-contrast;" id="logo"
                    src="{% static 'logo.png' %}"></a>
            <script async
                src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8572587507451544"
                crossorigin="anonymous"></script>
            <ins class="adsbygoogle" style="display:inline-block;width:820px;height:130px"
                data-ad-client="ca-pub-8572587507451544" data-ad-slot="7494827194"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
        <nav>
            <form action="{% url 'search' %}" method="post">
                <div>
                    {% csrf_token %}
                    <input name="q" value="{{q}}" placeholder="검색어를 입력해주세요.">
                    <button type="submit">
                        <i class="fa-solid fa-magnifying-glass" style="font-size:19px;"></i>
                    </button>
                </div>
            </form>
            <ul>
                <li>
                    <a href="{% url 'board:news_list'%}">
                        <i class="fa-solid fa-newspaper"></i>
                        뉴스/정보
                    </a>
                </li>
                <li>
                    <a href="{% url 'board:column_list'%}">
                        <i class="fa-solid fa-chart-column"></i>
                        군사칼럼
                    </a>
                </li>
                <li>
                    <a href="{% url 'board:community_list'%}">
                        <i class="fa-solid fa-comments"></i>
                        커뮤니티
                    </a>
                </li>
                <li>
                    <a onclick="alert('준비중입니다.')">
                        <i class="fa-solid fa-book-bookmark"></i>
                        밀덕백과
                    </a>
                </li>
                <li>
                    <a href="{% url 'board:event_list'%}">
                        <i class="fa-regular fa-calendar"></i>
                        행사일정
                    </a>
                </li>
                <li>
                    <a href="{% url 'board:notice'%}">
                        <i class="fa-solid fa-circle-info"></i>
                        공지/건의
                    </a>
                </li>
            </ul>
        </nav>
    </header>
    <main>
        <article>
            {% block content %}
            <section id="news">
                <div class="title">
                    뉴스/정보
                </div>
                <ul class="news_container">
                    {% for i in news_list %}
                    <a href="{% url 'board:news_detail' i.id %}">
                        <li>
                            <img style="image-rendering: -webkit-optimize-contrast;" src="{{ i.thumbnail.url }}">
                            <p>{{ i.title|truncatechars:35}}</p>
                        </li>
                    </a>
                    {% endfor %}
                </ul>
                <script type="text/javascript">
                    $('.news_container').slick({
                        slidesToShow: 4,
                        slidesToScroll: 4,
                        autoplay: true,
                        infinite: true,
                        autoplaySpeed: 5000,
                        arrows: false,
                        draggable: true,
                    });
                </script>
            </section>
            <section id="column">
                <div class="title">군사칼럼</div>
                <div class="content">
                    <ul>
                        {% for list in column_list|slice:3 %}
                        <a href="{% url 'board:column_detail' list.id %}">
                            <li>
                                <img style="image-rendering: -webkit-optimize-contrast;" src="{{ list.thumbnail.url }}">
                                <div>
                                    <span class="listintitle">{{list.title|truncatechars:30}}</span>
                                    <span class="listinsub">
                                        {{list.writer}}
                                        <i class="fa-solid fa-eye"></i> {{ list.view }}
                                    </span>
                                    <span>{{list.content|safe|striptags|truncatechars:40}}</span>
                                </div>
                            </li>
                        </a>
                        {% endfor %}
                    </ul>
                    <ul>
                        {% for list in column_list|slice:"3:6" %}
                        <a href="{% url 'board:column_detail' list.id %}">
                            <li>
                                <img style="image-rendering: -webkit-optimize-contrast;" src="{{ list.thumbnail.url }}">
                                <div>
                                    <span class="listintitle">{{list.title|truncatechars:30}}</span>
                                    <span class="listinsub">
                                        {{list.writer}}
                                        <i class="fa-solid fa-eye"></i> {{ list.view }}
                                    </span>
                                    <span>{{list.content|safe|striptags|truncatechars:40}}</span>
                                </div>
                            </li>
                        </a>
                        {% endfor %}
                    </ul>
                </div>
            </section>
            <section id="community">
                <div class="title">
                    커뮤니티
                </div>
                <div class="content">
                    <div>
                        <span><b>최신</b></span>
                        <ul>
                            {% for list in commu_new %}
                            <li>
                                <a href="{% url 'board:community_detail' list.id %}">{{list.title|truncatechars:35}}
                                </a>
                                <i class="fa-solid fa-comment-dots"></i> {{ list.comment_set.count }}
                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                    <div>
                        <span><b>인기</b></span>
                        <ul>
                            {% for list in commu_hot %}
                            <li>
                                <a href="{% url 'board:community_detail' list.id %}">{{list.title|truncatechars:35}}
                                </a>
                                <i class="fa-solid fa-comment-dots"></i> {{ list.comment_set.count }}
                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </section>
            <section id="dictionary">
                <div class="title">밀덕백과</div>
                <div class="content">
                    <div class="img-list">
                        <ul>
                            <li>
                                <img>
                                4
                            </li>
                        </ul>
                        <ul>
                            <li>
                                <img>
                                4
                            </li>
                        </ul>
                    </div>
                    <div class="list">
                        <ul>
                            <li>10</li>
                        </ul>
                    </div>
                </div>
            </section>
            {% endblock content %}
        </article>
        <aside>
            <section id="side1">
                {% if request.user.is_authenticated %}
                <div class="profile">
                    <div class="profile-info">
                        <img style="image-rendering: -webkit-optimize-contrast;" id="side-userimage"
                            src="{{ request.user.image.url }}">
                        <div>
                            <div>{{ request.user }}</div>
                            <a href="{% url 'user:profile' request.user.id %}">내정보</a>
                            <a href="{% url 'account_logout' %}" id="logout">&nbsp로그아웃</a>
                        </div>
                    </div>
                </div>
                {% else %}
                <div class="login">
                    <span>4MILLDUK - 세계체강 밀덕</span>
                    <a href="{% url 'account_login' %}" class="loginbutton">
                        <p>로그인</p>
                    </a>
                    <div>
                        <a href="{% url 'account_reset_password' %}">아이디/비밀번호 찾기</a>
                        <a href="{% url 'account_signup' %}">회원가입</a>
                    </div>
                </div>
                {% endif %}
                <script async
                    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8572587507451544"
                    crossorigin="anonymous"></script>
                <ins class="adsbygoogle" style="display:inline-block;width:268px;height:270px"
                    data-ad-client="ca-pub-8572587507451544" data-ad-slot="1312562223"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </section>
            <section id="side2">
                <dl>
                    <dt>명예의 전당</dt>
                    <dd>
                        {% for user in ranking %}
                        <li>
                            <a href="{% url 'user:profile' user.id %}">{{user.nickname}}</a>
                            <span>{{user.exp}} 포인트</span>
                        </li>
                        {% endfor %}
                    </dd>
                </dl>
                <dl class="comments">
                    <dt>최신 댓글</dt>
                    <dd>
                        {% for i in comments %}
                        <li>
                            {{i.content|truncatechars:23}}
                        </li>
                        {% endfor %}
                    </dd>
                </dl>
            </section>
            <section id="side3">
                <dl>
                    <dt>행사</dt>
                    <dd>
                        {% for i in events %}
                        <li>
                            <a href="{% url 'board:event_detail' i.id %}">{{i.title|truncatechars:22}}</a>
                        </li>
                        {% endfor %}
                    </dd>
                </dl>
                <div class="container">
                    {% for i in events %}
                    <a href="{% url 'board:event_detail' i.id %}">
                        <img style="image-rendering: -webkit-optimize-contrast;" src="{{ i.thumbnail.url }}">
                    </a>
                    {% endfor %}
                </div>
                <script type="text/javascript">
                    $('.container').slick({
                        slidesToShow: 1,
                        slidesToScroll: 1,
                        autoplay: true,
                        infinite: true,
                        autoplaySpeed: 5000,
                        arrows: false,
                        dots: true,
                        draggable: true,
                    });
                </script>
            </section>
            <script async
                src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8572587507451544"
                crossorigin="anonymous"></script>
            <ins class="adsbygoogle" style="display:inline-block;width:268px;height:301px;margin-top:12px;"
                data-ad-client="ca-pub-8572587507451544" data-ad-slot="3747153871"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </aside>
    </main>
    <footer>
        Copyright 2022. 4MILLDUK all rights reserved.
    </footer>
</body>

</html>